<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>HandlerWrapper - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="HandlerWrapper.html">HandlerWrapper</a><ul class='methods'><li data-type='method'><a href="HandlerWrapper.html#wrap">wrap</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">HandlerWrapper</h1>
    

    




<section>

<header>
    
        <h2>
        HandlerWrapper
        </h2>
        
            <div class="class-description">Utility class that creates wrappers for AWS Lambda functions by wrapping a
simple Node.js function that serves as a lambda handler. These wrappers
initialize and inject configuration and logger objects, and also allow
underlying implementations to return promises for asynchronous operations.</div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="HandlerWrapper"><span class="type-signature"></span>new HandlerWrapper<span class="signature">(appName)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="handler-wrapper.js.html">handler-wrapper.js</a>, <a href="handler-wrapper.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>appName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The name of the application to which the lambda
       functions returned by this object belong. This value will be
       injected into log statements emitted by the logger.</td>
        </tr>

    
    </tbody>
</table>
















        
        </div>
    

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="wrap"><span class="type-signature"></span>wrap<span class="signature">(handler, handlerName)</span><span class="type-signature"> &rarr; {<a href="HandlerWrapper.html#.Wrapper">HandlerWrapper.Wrapper</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="handler-wrapper.js.html">handler-wrapper.js</a>, <a href="handler-wrapper.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Creates and returns a wrapper lambda handler.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="HandlerWrapper.html#.Handler">HandlerWrapper.Handler</a></span>


            
            </td>

            

            

            <td class="description last">A function that contains the
       intended lambda functionality.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handlerName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The name of the handler. Used for logging.</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    A function that can be used as the
        AWS lambda handler.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="HandlerWrapper.html#.Wrapper">HandlerWrapper.Wrapper</a></span>


    </dd>
</dl>

    


        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id=".Handler"><span class="type-signature"></span>Handler<span class="signature">(event, contex, ext)</span><span class="type-signature"> &rarr; {Promise|*}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="handler-wrapper.js.html">handler-wrapper.js</a>, <a href="handler-wrapper.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    A function that contains the core execution logic of the lambda function.
This function receives the input and context from the AWS lambda, along
with some extended properties, and can return any value, including a
Promise for asynchronous operations.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The input to the lambda function, not altered
       in any way by the wrapper.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The
       <a href="https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-context.html">AWS lambda context</a>,
       not altered in any way by the wrapper.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ext</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Extended parameters passed to the handler. These
       are values injected by the wrapper, providing utility objects
       that the handler can optionally utilize.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A properly scoped configuration object. This
       object contains configuration parameters for a specific
       environment, based on the lambda alias value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A logger object that can be used to write log
       messages. The logger object is pre initialized with some metadata
       that includes the application name, lambda handler name and the
       lamnda execution id. More properties may be added to it if
       necessary by invoking <code>logger.child()</code>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The alias with which the lambda function was
       invoked. If the lambda was not invoked unqualified or as latest
       version ($LATEST), the alias value will be set to "default".</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    The response from the lambda handler execution. If
        a promise is returned, the the wrapper will wait for resolution
        or rejection of the promise, and use the corresponding result
        as the response value of the lambda.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id=".Wrapper"><span class="type-signature"></span>Wrapper<span class="signature">(event, contex, callback)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="handler-wrapper.js.html">handler-wrapper.js</a>, <a href="handler-wrapper.js.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    A function that conforms to the AWS signature. This function initializes
the logger and config objects, and delegates actual execution to a
<a href="HandlerWrapper.html#.Handler">handler function</a>.

<p>The wrapper also provides lambda keep warm capability that can be
used to keep the lambda in cache without actually invoking the
<a href="HandlerWrapper.html#.Handler">handler function</a>.
This can be accomplished by passing a parameter called
<code>__LAMBDA_KEEP_WARM</code> with a truthy value to the wrapper.
</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The input to the lambda function, not altered
       in any way by the wrapper.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The
       <a href="https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-context.html">AWS lambda context</a>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The
       <a href="https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html#nodejs-prog-model-handler-callback">callback</a>
       function passed to the AWS lambda.</td>
        </tr>

    
    </tbody>
</table>
















            
    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jan 14 2019 12:48:24 GMT-0500 (EST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>